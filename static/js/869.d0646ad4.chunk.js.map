{"version":3,"file":"static/js/869.d0646ad4.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","hooks/useFetchData.jsx","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MainFilmInfo/MainFilmInfo.module.css?63f9","components/MainFilmInfo/MainFilmInfo.jsx","pages/MovieDetails.jsx","services/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loaderWrapper\":\"Loader_loaderWrapper__6ypwD\"};","import React from 'react';\n\nimport { MagnifyingGlass } from 'react-loader-spinner';\nimport style from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={style.loaderWrapper}>\n      <MagnifyingGlass\n        visible={true}\n        height=\"100\"\n        width=\"100\"\n        ariaLabel=\"MagnifyingGlass-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"MagnifyingGlass-wrapper\"\n        glassColor=\"#c0efff\"\n        color=\"#e15b64\"\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","const { useEffect, useState } = require('react');\n\nexport function useFetchData(callback) {\n  const [data, setData] = useState(null);\n  const [isLoading, setLoadingStatus] = useState(null);\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        setLoadingStatus(true);\n        const data = await callback();\n        setData(data);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoadingStatus(false);\n      }\n    };\n    getData();\n  }, [callback]);\n\n  return { data, isLoading };\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Button = ({ path }) => {\n  return (\n    <button>\n      <Link to={path}>Go back</Link>\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"mainContentWrapper\":\"MainFilmInfo_mainContentWrapper__0cy5+\",\"img\":\"MainFilmInfo_img__8n9FP\",\"additionalContentWrapper\":\"MainFilmInfo_additionalContentWrapper__x29FL\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport style from './MainFilmInfo.module.css';\n\nfunction MainFilmInfo({\n  filmInfo: { original_title, overview, genres, vote_average, poster_path },\n}) {\n  const location = useLocation();\n  const prevLocation = location.state?.from ?? '/';\n\n  return (\n    <>\n      <div className={style.mainContentWrapper}>\n        <img\n          className={style.img}\n          src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n          alt=\"\"\n        />\n        <div>\n          <h1>{original_title}</h1>\n          <p>User score: {vote_average}</p>\n          <h2>Overview</h2>\n          <p>{overview}</p>\n          <h2>Genres:</h2>\n          <p>{genres.reduce((acc, { name }) => (acc += name + ' '), '')}</p>\n        </div>\n      </div>\n      <div className={style.additionalContentWrapper}>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to=\"cast\" state={{ from: prevLocation }}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"review\" state={{ from: prevLocation }}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n    </>\n  );\n}\n\nexport default MainFilmInfo;\n","import React, { Suspense, useCallback } from 'react';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\n\nimport Button from 'components/Button/Button';\nimport Loader from 'components/Loader/Loader';\nimport MainFilmInfo from 'components/MainFilmInfo/MainFilmInfo';\nimport { useFetchData } from 'hooks/useFetchData';\nimport { getFilmInfoByFilmId } from 'services';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  const getFilms = useCallback(() => getFilmInfoByFilmId(movieId), [movieId]);\n\n  const { data: filmInfo, isLoading } = useFetchData(getFilms);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {filmInfo && (\n        <>\n          <Button path={backLinkHref} />\n          <MainFilmInfo filmInfo={filmInfo} />\n          <Suspense fallback={<div>Loading</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport async function getTrendingFilms() {\n  const { data } = await axios.get('/trending/movie/day', {\n    params: {\n      api_key: 'b72b31e819ea439a1f54ca720299786f',\n    },\n  });\n  return data.results;\n}\n\nexport async function getFilmInfoByFilmId(id) {\n  const { data } = await axios.get(`/movie/${id}`, {\n    params: {\n      api_key: 'b72b31e819ea439a1f54ca720299786f',\n    },\n  });\n  return data;\n}\n\nexport async function getFilmsByTitle(title) {\n  const { data } = await axios.get(`/search/movie`, {\n    params: {\n      api_key: 'b72b31e819ea439a1f54ca720299786f',\n      query: title,\n    },\n  });\n  return data.results;\n}\n\nexport async function getMovieCastByFilmId(id) {\n  const { data } = await axios.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: 'b72b31e819ea439a1f54ca720299786f',\n    },\n  });\n  return data.cast;\n}\n\nexport async function getUserReviews(id) {\n  const { data } = await axios.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: 'b72b31e819ea439a1f54ca720299786f',\n    },\n  });\n  return data.results;\n}\n"],"names":["className","style","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","glassColor","color","require","useEffect","useState","useFetchData","callback","data","setData","isLoading","setLoadingStatus","getData","console","error","path","to","filmInfo","original_title","overview","genres","vote_average","poster_path","prevLocation","useLocation","state","from","src","alt","reduce","acc","name","movieId","useParams","backLinkHref","getFilms","useCallback","getFilmInfoByFilmId","Loader","Suspense","fallback","getTrendingFilms","axios","params","api_key","results","id","getFilmsByTitle","title","query","getMovieCastByFilmId","cast","getUserReviews"],"sourceRoot":""}